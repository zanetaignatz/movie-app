(window.webpackJsonpmovieapp=window.webpackJsonpmovieapp||[]).push([[0],{21:function(e,t,a){e.exports=a.p+"static/media/powered-by-blue.c74849c0.svg"},22:function(e,t,a){e.exports=a(46)},27:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(20),i=a.n(c),r=a(2),s=a(3),l=a(6),m=a(5),p=a(7),u=(a(27),a(4)),d=a.n(u),v=a(8),h=a(9),f=a(21),g=a.n(f),b=a(10),w=a.n(b),y=function(){function e(){Object(r.a)(this,e),this.baseURL="https://api.themoviedb.org/3/",this.apiKey="488bca8d82d3a3bcf62806a18763ac9f"}return Object(s.a)(e,[{key:"searchMovies",value:function(){var e=Object(v.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("".concat(this.baseURL,"search/movie?api_key=").concat(this.apiKey,"&query=").concat(t)).then((function(e){a=e.data.results})).catch((function(e){console.log("error searching movies")}));case 2:return e.abrupt("return",a);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getMovie",value:function(){var e=Object(v.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("".concat(this.baseURL,"movie/").concat(t,"?api_key=").concat(this.apiKey)).then((function(e){a=e.data}));case 2:return e.abrupt("return",a);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),E=function(e){return o.a.createElement("div",{className:"description-container"},o.a.createElement("h2",null,e.movie?e.movie.original_title:"Pierwszy cz\u0142owiek"),o.a.createElement("span",{className:"tagline"},e.movie?e.movie.overview:""))},j=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).api=new y,a.state={value:"",movies:[],dropdownStyle:"dropdown-menu hidden",selectedMovie:null},a.handleChange=a.handleChange.bind(Object(h.a)(a)),a.onMovieSelected=a.onMovieSelected.bind(Object(h.a)(a)),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"handleChange",value:function(e){var t=this;this.setState({value:this.search.value},(function(e){t.loadMovies(t.state.value)}))}},{key:"loadMovies",value:function(){var e=Object(v.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.api.searchMovies(t);case 2:a=e.sent,this.setState({movies:a||[],dropdownStyle:a&&a.length>0?"dropdown-menu visible show":"dropdown-menu hidden"}),console.log(a),console.log(this.state.movies);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onMovieSelected",value:function(e){var t=this;this.setState({movies:[]},function(){var a=Object(v.a)(d.a.mark((function a(n){var o;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.api.getMovie(e.id);case 2:o=a.sent,t.props.onSelected(o);case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())}},{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"App-header row container-fluid align-items-center"},o.a.createElement("div",{className:"logo-container col-12 col-sm-6 col-md-7 col-lg-6 row px-0 px-md-auto"},o.a.createElement("img",{src:g.a,className:"logo col-3 col-sm-3 col-md-6 mx-auto mx-sm-0",alt:"TMDB logo",style:{height:"50px"}}),o.a.createElement("h1",{className:"App-title col-12 col-sm-3 px-5 mb-0 text-center"},"MovieApp")),o.a.createElement("div",{className:"input-container col-10 col-sm-8 col-md-5 col-lg-6 mx-auto pt-md-4 align-items-center"},o.a.createElement("div",{className:"dropdown active-green-3 active-green-4 mb-4 col-md-10 col-lg-7"},o.a.createElement("input",{id:"dropdownMenuInput",className:"form-control dropdown-toggle",type:"text",placeholder:"Search...","aria-label":"Search","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true",value:this.state.value,ref:function(t){return e.search=t},onChange:this.handleChange}),o.a.createElement("div",{className:this.state.dropdownStyle,"aria-labelledby":"dropdownMenuInput"},this.state.movies.map((function(t){return o.a.createElement("a",{key:t.id,id:t.id,onClick:function(){e.onMovieSelected(t)},className:"dropdown-item",href:"#"},t.title)}))))))}}]),t}(o.a.Component),O=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"poster-container col-11 col-md-5 col-lg-5 "},o.a.createElement("img",{className:"poster",alt:"film poster",src:this.props.movie?"https://image.tmdb.org/t/p/w1280/"+this.props.movie.poster_path:"https://image.tmdb.org/t/p/w1280/i91mfvFcPPlaegcbOyjGgiWfZzh.jpg"}))}}]),t}(o.a.Component),N=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"additional-details"},o.a.createElement("span",{className:"genre-list"},this.props.movie?this.props.movie.genres.map((function(e){return e.name})).join(" "):""),o.a.createElement("div",{className:"row release-details"},o.a.createElement("div",{className:"col-6"}," Budget: ",o.a.createElement("span",{className:"meta-data"},this.props.movie?this.props.movie.budget+" USD":"?")),o.a.createElement("div",{className:"col-6"}," Vote Average: ",o.a.createElement("span",{className:"meta-data"},this.props.movie?this.props.movie.vote_average:"?"))),o.a.createElement("div",{className:"row release-details"},o.a.createElement("div",{className:"col-6"}," Original Release: ",o.a.createElement("span",{className:"meta-data"},this.props.movie?this.props.movie.release_date:"?")),o.a.createElement("div",{className:"col-6"}," Running Time: ",o.a.createElement("span",{className:"meta-data"},this.props.movie?this.props.movie.runtime+" min":"?")," ")))}}]),t}(o.a.Component),M=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={selectedMovie:null},a.onMovieSelect=function(e){console.log(e),a.setState({selectedMovie:e})},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"App container-fluid"},o.a.createElement(j,{onSelected:this.onMovieSelect}),o.a.createElement("div",{className:"MovieCard col-12 col-md-12"},o.a.createElement("div",{className:"meta-data-container row col-12 col-md-10 col-lg-9"},o.a.createElement(O,{movie:this.state.selectedMovie}),o.a.createElement("div",{className:"info-container col"},o.a.createElement(E,{movie:this.state.selectedMovie}),o.a.createElement(N,{movie:this.state.selectedMovie})))))}}]),t}(n.Component);i.a.render(o.a.createElement(M,null),document.getElementById("app"))}},[[22,1,2]]]);
//# sourceMappingURL=main.34c75230.chunk.js.map